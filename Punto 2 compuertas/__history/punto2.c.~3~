#include <16F1827.h>       // Reemplazá con tu PIC real
#fuses INTRC_IO, NOMCLR, NOWDT
#use delay(clock=4000000)  // Oscilador interno de 4 MHz

/* Configure el bit 4 del puerto B como salida, el resto como
entradas. Realice una rutina que prenda y apague un led (conectado al bit 4) cada
500ms. Utilice la función delay_ms().*/

/*****************************************************************************
 * Funciones de Inicializacion de Perifericos
 ****************************************************************************/
 

void InitGPIO(void);


/*****************************************************************************
 * Main
 ****************************************************************************/

void main(void) {
   InitGPIO();    // Inicializo PORTB
   while(TRUE) {
      output_high(PIN_B4);   // Prende LED
      delay_ms(500);         // Espera 500 ms
      output_low(PIN_B4);    // Apaga LED
      delay_ms(500);         // Espera 500 ms
   }
}

/*****************************************************************************
 * Implementacion de funciones
 ****************************************************************************/

void InitGPIO(void){
OSCCON = 0b01101010; // Oscilador interno a 4 MHz
    ANSELB = 0x00;       // PORTB digital
    set_tris_b(0b11101111); // RB4 salida, resto entradas
    output_low(PIN_B4);     // LED apagado al inicio
}



