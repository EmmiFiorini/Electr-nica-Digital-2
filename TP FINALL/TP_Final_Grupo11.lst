CCS PCM C Compiler, Version 5.093, 4770               20-nov-25 13:04

               Filename:   C:\Users\santi\OneDrive\Documentos\EDI2_Grupo_11\Electr-nica-Digital-2\TP FINALL\TP_Final_Grupo11.lst

               ROM used:   807 words (20%)
                           Largest free fragment is 2048
               RAM used:   14 (4%) at main() level
                           35 (9%) worst case
               Stack used: 2 locations (1 in main + 1 for interrupts)
               Stack size: 16

0000:  MOVLP  00
0001:  GOTO   2DB
0002:  NOP
*
0004:  CLRF   03
0005:  MOVLP  00
0006:  MOVLB  00
0007:  MOVF   77,W
0008:  MOVWF  20
0009:  MOVF   78,W
000A:  MOVWF  21
000B:  MOVF   79,W
000C:  MOVWF  22
000D:  MOVF   7A,W
000E:  MOVWF  23
000F:  BTFSS  0B.5
0010:  GOTO   013
0011:  BTFSC  0B.2
0012:  GOTO   020
0013:  BTFSS  0B.3
0014:  GOTO   017
0015:  BTFSC  0B.0
0016:  GOTO   022
0017:  MOVF   20,W
0018:  MOVWF  77
0019:  MOVF   21,W
001A:  MOVWF  78
001B:  MOVF   22,W
001C:  MOVWF  79
001D:  MOVF   23,W
001E:  MOVWF  7A
001F:  RETFIE
0020:  MOVLP  00
0021:  GOTO   03A
0022:  MOVLP  00
0023:  GOTO   04F
.................... #include <TP_Final_Grupo11.h>
.................... #include <16F1827.h>
.................... //////////// Standard Header file for the PIC16F1827 device ////////////////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996, 2014 Custom Computer Services          ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... #device PIC16F1827
0024:  BRW
0025:  RETLW  31
0026:  RETLW  32
0027:  RETLW  33
0028:  RETLW  34
0029:  RETLW  35
002A:  RETLW  36
002B:  RETLW  37
002C:  RETLW  38
002D:  RETLW  39
002E:  RETLW  2A
002F:  RETLW  30
0030:  RETLW  23
0031:  BRW
0032:  RETLW  68
0033:  RETLW  69
0034:  RETLW  6A
0035:  RETLW  6B
0036:  BRW
0037:  RETLW  6C
0038:  RETLW  6E
0039:  RETLW  6F
*
0096:  MOVF   2E,W
0097:  ANDLW  07
0098:  MOVWF  77
0099:  RRF    2E,W
009A:  MOVWF  78
009B:  RRF    78,F
009C:  RRF    78,F
009D:  MOVLW  1F
009E:  ANDWF  78,F
009F:  MOVF   78,W
00A0:  ADDWF  30,W
00A1:  MOVWF  04
00A2:  MOVLW  00
00A3:  ADDWFC 31,W
00A4:  MOVWF  05
00A5:  CLRF   78
00A6:  INCF   78,F
00A7:  INCF   77,F
00A8:  GOTO   0AA
00A9:  RLF    78,F
00AA:  DECFSZ 77,F
00AB:  GOTO   0A9
00AC:  MOVF   2F,F
00AD:  BTFSC  03.2
00AE:  GOTO   0B2
00AF:  MOVF   78,W
00B0:  IORWF  00,F
00B1:  GOTO   0B5
00B2:  COMF   78,F
00B3:  MOVF   78,W
00B4:  ANDWF  00,F
00B5:  RETURN
00B6:  MOVF   2E,W
00B7:  ANDLW  07
00B8:  MOVWF  77
00B9:  RRF    2E,W
00BA:  MOVWF  78
00BB:  RRF    78,F
00BC:  RRF    78,F
00BD:  MOVLW  1F
00BE:  ANDWF  78,F
00BF:  MOVF   78,W
00C0:  ADDWF  2F,W
00C1:  MOVWF  04
00C2:  MOVLW  00
00C3:  ADDWFC 30,W
00C4:  MOVWF  05
00C5:  MOVF   00,W
00C6:  MOVWF  78
00C7:  INCF   77,F
00C8:  GOTO   0CA
00C9:  RRF    78,F
00CA:  DECFSZ 77,F
00CB:  GOTO   0C9
00CC:  MOVLW  01
00CD:  ANDWF  78,F
00CE:  RETURN
*
0124:  CLRF   77
0125:  CLRF   78
0126:  MOVF   2D,W
0127:  BCF    03.0
0128:  BTFSC  2E.0
0129:  ADDWF  77,F
012A:  RRF    77,F
012B:  RRF    78,F
012C:  BTFSC  2E.1
012D:  ADDWF  77,F
012E:  RRF    77,F
012F:  RRF    78,F
0130:  BTFSC  2E.2
0131:  ADDWF  77,F
0132:  RRF    77,F
0133:  RRF    78,F
0134:  BTFSC  2E.3
0135:  ADDWF  77,F
0136:  RRF    77,F
0137:  RRF    78,F
0138:  BTFSC  2E.4
0139:  ADDWF  77,F
013A:  RRF    77,F
013B:  RRF    78,F
013C:  BTFSC  2E.5
013D:  ADDWF  77,F
013E:  RRF    77,F
013F:  RRF    78,F
0140:  BTFSC  2E.6
0141:  ADDWF  77,F
0142:  RRF    77,F
0143:  RRF    78,F
0144:  BTFSC  2E.7
0145:  ADDWF  77,F
0146:  RRF    77,F
0147:  RRF    78,F
.................... 
.................... #list
.................... 
.................... #device ADC=10
.................... #use delay(internal=4MHz)
.................... 
.................... 
.................... 
.................... 
.................... #use RS232(BAUD = 9600, XMIT = PIN_B5, BITS = 8, PARITY = N, STOP = 1)
*
0169:  MOVLB  01
016A:  BCF    0D.5
016B:  MOVLB  02
016C:  BCF    0D.5
016D:  MOVLW  08
016E:  MOVWF  78
016F:  GOTO   170
0170:  NOP
0171:  BSF    78.7
0172:  GOTO   183
0173:  BCF    78.7
0174:  MOVLB  00
0175:  RRF    2A,F
0176:  MOVLB  02
0177:  BTFSC  03.0
0178:  BSF    0D.5
0179:  BTFSS  03.0
017A:  BCF    0D.5
017B:  BSF    78.6
017C:  GOTO   183
017D:  BCF    78.6
017E:  DECFSZ 78,F
017F:  GOTO   174
0180:  GOTO   181
0181:  NOP
0182:  BSF    0D.5
0183:  MOVLW  1B
0184:  MOVWF  04
0185:  DECFSZ 04,F
0186:  GOTO   185
0187:  GOTO   188
0188:  NOP
0189:  BTFSC  78.7
018A:  GOTO   173
018B:  BTFSC  78.6
018C:  GOTO   17D
018D:  MOVLB  00
018E:  RETURN
.................... 
.................... //#fuses INTRC_IO   // Oscilador interno con pines RA6 y RA7 como GPIO
.................... #fuses NOMCLR     // Desactivo el MCLR
.................... #fuses NOWDT      // Desactivo el watchdog
.................... 
.................... /*****************************************************************************
....................  * Funciones de Inicializacion
....................  ****************************************************************************/
....................  
.................... void Init_GPIO(void);
.................... void Init_Keypad(void);
.................... void InitTimer0(void);
.................... 
.................... /*****************************************************************************
.................... * Variables globales
.................... ****************************************************************************/
.................... 
.................... /* DEBOUNCE */
.................... int flag_debounce = 0;
.................... 
.................... /* TECLADO */
.................... const char keymap[4][3] = {
....................   {'1','2','3'},
....................   {'4','5','6'},
....................   {'7','8','9'},
....................   {'*','0','#'}
.................... };
.................... 
.................... char tecla = ' ';
.................... 
.................... /* TIMER 0 */
.................... int contador_ms_1 = 0;
.................... int contador_ms_2 = 0;
.................... 
.................... int flag_segundo = 0;
.................... int flag_segundo2 = 0;
.................... 
.................... /*****************************************************************************
.................... * Funciones
.................... ****************************************************************************/
.................... 
.................... char getKey(void);
.................... void decharabin(void);
.................... 
.................... /*****************************************************************************
.................... * Interrupciones
.................... ****************************************************************************/
.................... #INT_TIMER0 // ACA ESCRIBO QUÉ DEBO HACER EN CADA INTERRUPCIÓN
.................... void Timer0_ISR() {
....................   
....................   set_timer0(61);
*
003A:  MOVLW  3D
003B:  MOVWF  15
....................  
....................   if(contador_ms_1 >= 3) { //Pasaron 150ms
003C:  MOVF   26,W
003D:  SUBLW  02
003E:  BTFSC  03.0
003F:  GOTO   043
....................        contador_ms_1 = 0;
0040:  CLRF   26
....................        flag_segundo = 1; // aviso que ya pasó el tiempo deseado
0041:  MOVLW  01
0042:  MOVWF  28
....................    }
....................    
....................    if(contador_ms_2 >= 20) { //Pasaron 1s
0043:  MOVF   27,W
0044:  SUBLW  13
0045:  BTFSC  03.0
0046:  GOTO   04A
....................        contador_ms_2 = 0;
0047:  CLRF   27
....................        flag_segundo2 = 1; // aviso que ya pasó el tiempo deseado
0048:  MOVLW  01
0049:  MOVWF  29
....................    }
....................    
....................    contador_ms_1++;
004A:  INCF   26,F
....................    contador_ms_2++;
004B:  INCF   27,F
....................    
.................... }
.................... 
004C:  BCF    0B.2
004D:  MOVLP  00
004E:  GOTO   017
.................... #INT_IOC
.................... void IOC_ISR(){
....................    if(flag_segundo == 1) { // Hubo variación de estado en los pines y pasó el tiempo de espera
004F:  DECFSZ 28,W
0050:  GOTO   054
....................          flag_debounce = 1;
0051:  MOVLW  01
0052:  MOVWF  24
....................          flag_segundo = 0;
0053:  CLRF   28
....................    }
0054:  MOVLW  FF
0055:  MOVLB  07
0056:  XORWF  16,W
0057:  ANDWF  16,F
0058:  BCF    0B.0
0059:  MOVLP  00
005A:  MOVLB  00
005B:  GOTO   017
.................... }
.................... 
.................... 
.................... void main()
*
02DB:  MOVLW  6A
02DC:  MOVLB  01
02DD:  MOVWF  19
02DE:  BCF    0D.5
02DF:  MOVLB  02
02E0:  BSF    0D.5
02E1:  MOVLB  00
02E2:  CLRF   24
02E3:  MOVLW  20
02E4:  MOVWF  25
02E5:  CLRF   26
02E6:  CLRF   27
02E7:  CLRF   28
02E8:  CLRF   29
02E9:  MOVLB  03
02EA:  CLRF   0C
02EB:  CLRF   0D
02EC:  MOVLB  02
02ED:  CLRF   12
02EE:  CLRF   11
02EF:  CLRF   14
02F0:  CLRF   13
.................... {
....................    Init_Keypad();
02F1:  MOVLB  00
02F2:  GOTO   05C
....................    InitTimer0();
02F3:  GOTO   077
....................    Init_GPIO();
02F4:  GOTO   082
.................... 
....................    output_low(PIN_A6); // LE
02F5:  MOVLB  01
02F6:  BCF    0C.6
02F7:  MOVLB  02
02F8:  BCF    0C.6
....................    output_high(PIN_A7); // BI = BL (?)
02F9:  MOVLB  01
02FA:  BCF    0C.7
02FB:  MOVLB  02
02FC:  BSF    0C.7
....................    output_high(PIN_A4); // LT = PH (?)
02FD:  MOVLB  01
02FE:  BCF    0C.4
02FF:  MOVLB  02
0300:  BSF    0C.4
....................    output_low(PIN_A3); // D
0301:  MOVLB  01
0302:  BCF    0C.3
0303:  MOVLB  02
0304:  BCF    0C.3
....................    output_high(PIN_A2); // C
0305:  MOVLB  01
0306:  BCF    0C.2
0307:  MOVLB  02
0308:  BSF    0C.2
....................    output_low(PIN_A1); // B
0309:  MOVLB  01
030A:  BCF    0C.1
030B:  MOVLB  02
030C:  BCF    0C.1
....................    output_high(PIN_A0); // A
030D:  MOVLB  01
030E:  BCF    0C.0
030F:  MOVLB  02
0310:  BSF    0C.0
.................... 
....................    while(TRUE)
....................    {
.................... 
....................    tecla = getKey();
0311:  MOVLB  00
0312:  GOTO   0CF
0313:  MOVF   78,W
0314:  MOVWF  25
....................    
....................    if(tecla != 'f') {
0315:  MOVF   25,W
0316:  SUBLW  66
0317:  BTFSC  03.2
0318:  GOTO   325
....................          
....................          if(flag_segundo2 == 1) {
0319:  DECFSZ 29,W
031A:  GOTO   325
....................             printf("<%c>", tecla);
031B:  MOVLW  3C
031C:  MOVWF  2A
031D:  CALL   169
031E:  MOVF   25,W
031F:  MOVWF  2A
0320:  CALL   169
0321:  MOVLW  3E
0322:  MOVWF  2A
0323:  CALL   169
....................             flag_segundo2 = 0;
0324:  CLRF   29
....................          }         
....................       }
....................       decharabin();
0325:  GOTO   18F
0326:  GOTO   312
....................    }   
.................... }
.................... 
0327:  SLEEP
.................... /*****************************************************************************
.................... * Funciones
.................... ****************************************************************************/
.................... char getKey(void){
*
00CF:  MOVLW  66
00D0:  MOVWF  2C
.................... 
....................    const unsigned char pines_filas[4] = {PIN_B0, PIN_B1, PIN_B2, PIN_B3};
....................    const unsigned char pines_col[3] = {PIN_B4, PIN_B6, PIN_B7};
....................    int f, c;
....................    char result = 'f';
....................    
....................    for(f = 0; f < 4; f++) {
00D1:  CLRF   2A
00D2:  MOVF   2A,W
00D3:  SUBLW  03
00D4:  BTFSS  03.0
00D5:  GOTO   165
....................       // Poner todas las filas en HIGH
....................       output_high(PIN_B0);
00D6:  MOVLB  01
00D7:  BCF    0D.0
00D8:  MOVLB  02
00D9:  BSF    0D.0
....................       output_high(PIN_B1);
00DA:  MOVLB  01
00DB:  BCF    0D.1
00DC:  MOVLB  02
00DD:  BSF    0D.1
....................       output_high(PIN_B2);
00DE:  MOVLB  01
00DF:  BCF    0D.2
00E0:  MOVLB  02
00E1:  BSF    0D.2
....................       output_high(PIN_B3);
00E2:  MOVLB  01
00E3:  BCF    0D.3
00E4:  MOVLB  02
00E5:  BSF    0D.3
.................... 
....................       // Activar la fila r (tirarla a LOW)
....................       output_low(pines_filas[f]);
00E6:  MOVLB  00
00E7:  MOVF   2A,W
00E8:  CALL   031
00E9:  MOVWF  2D
00EA:  MOVWF  2E
00EB:  CLRF   2F
00EC:  MOVLW  01
00ED:  MOVWF  31
00EE:  CLRF   30
00EF:  CALL   096
00F0:  MOVF   2D,W
00F1:  MOVWF  2E
00F2:  CLRF   2F
00F3:  CLRF   31
00F4:  MOVLW  80
00F5:  MOVWF  30
00F6:  CALL   096
.................... 
....................       // Leemos columnas
....................       for(c = 0; c < 3; c++) {
00F7:  CLRF   2B
00F8:  MOVF   2B,W
00F9:  SUBLW  02
00FA:  BTFSS  03.0
00FB:  GOTO   163
....................          
....................          if(!input(pines_col[c])) { // columna detectada en 0 --> tecla presionada
00FC:  MOVF   2B,W
00FD:  CALL   036
00FE:  MOVWF  2D
00FF:  MOVWF  2E
0100:  MOVLW  01
0101:  MOVWF  2F
0102:  CLRF   31
0103:  MOVLW  80
0104:  MOVWF  30
0105:  CALL   096
0106:  MOVF   2D,W
0107:  MOVWF  2E
0108:  CLRF   30
0109:  CLRF   2F
010A:  CALL   0B6
010B:  BTFSC  78.0
010C:  GOTO   161
....................             
....................             if( (input(pines_col[c]) == 0) && (flag_debounce == 1) ) { // sigue presionada
010D:  MOVF   2B,W
010E:  CALL   036
010F:  MOVWF  2D
0110:  MOVWF  2E
0111:  MOVLW  01
0112:  MOVWF  2F
0113:  CLRF   31
0114:  MOVLW  80
0115:  MOVWF  30
0116:  CALL   096
0117:  MOVF   2D,W
0118:  MOVWF  2E
0119:  CLRF   30
011A:  CLRF   2F
011B:  CALL   0B6
011C:  BTFSC  78.0
011D:  GOTO   161
011E:  DECFSZ 24,W
011F:  GOTO   161
....................                
....................                result = keymap[f][c];
0120:  MOVF   2A,W
0121:  MOVWF  2D
0122:  MOVLW  03
0123:  MOVWF  2E
*
0148:  MOVF   2B,W
0149:  ADDWF  78,W
014A:  CALL   024
014B:  MOVWF  78
014C:  MOVWF  2C
....................                flag_debounce = 0;
014D:  CLRF   24
....................                output_high(pines_filas[f]);
014E:  MOVF   2A,W
014F:  CALL   031
0150:  MOVWF  2D
0151:  MOVWF  2E
0152:  MOVLW  01
0153:  MOVWF  2F
0154:  MOVWF  31
0155:  CLRF   30
0156:  CALL   096
0157:  MOVF   2D,W
0158:  MOVWF  2E
0159:  CLRF   2F
015A:  CLRF   31
015B:  MOVLW  80
015C:  MOVWF  30
015D:  CALL   096
....................                return result;
015E:  MOVF   2C,W
015F:  MOVWF  78
0160:  GOTO   167
....................             }
....................          }
0161:  INCF   2B,F
0162:  GOTO   0F8
....................       }
0163:  INCF   2A,F
0164:  GOTO   0D2
....................    }
....................    return 'f'; // No se presiono ninguna tecla
0165:  MOVLW  66
0166:  MOVWF  78
0167:  MOVLP  00
0168:  GOTO   313 (RETURN)
.................... }
.................... 
.................... void decharabin(){//funcion que cambia de char a binario
....................  
....................    if(tecla == '0'){
*
018F:  MOVF   25,W
0190:  SUBLW  30
0191:  BTFSS  03.2
0192:  GOTO   1B0
....................       output_low(PIN_A6); // LE
0193:  MOVLB  01
0194:  BCF    0C.6
0195:  MOVLB  02
0196:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
0197:  MOVLB  01
0198:  BCF    0C.7
0199:  MOVLB  02
019A:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
019B:  MOVLB  01
019C:  BCF    0C.4
019D:  MOVLB  02
019E:  BSF    0C.4
....................       output_low(PIN_A3); // D
019F:  MOVLB  01
01A0:  BCF    0C.3
01A1:  MOVLB  02
01A2:  BCF    0C.3
....................       output_low(PIN_A2); // C
01A3:  MOVLB  01
01A4:  BCF    0C.2
01A5:  MOVLB  02
01A6:  BCF    0C.2
....................       output_low(PIN_A1); // B
01A7:  MOVLB  01
01A8:  BCF    0C.1
01A9:  MOVLB  02
01AA:  BCF    0C.1
....................       output_low(PIN_A0); // A
01AB:  MOVLB  01
01AC:  BCF    0C.0
01AD:  MOVLB  02
01AE:  BCF    0C.0
01AF:  MOVLB  00
....................    }
....................    if (tecla == '1'){
01B0:  MOVF   25,W
01B1:  SUBLW  31
01B2:  BTFSS  03.2
01B3:  GOTO   1D1
....................       output_low(PIN_A6); // LE
01B4:  MOVLB  01
01B5:  BCF    0C.6
01B6:  MOVLB  02
01B7:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
01B8:  MOVLB  01
01B9:  BCF    0C.7
01BA:  MOVLB  02
01BB:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
01BC:  MOVLB  01
01BD:  BCF    0C.4
01BE:  MOVLB  02
01BF:  BSF    0C.4
....................       output_low(PIN_A3); // D
01C0:  MOVLB  01
01C1:  BCF    0C.3
01C2:  MOVLB  02
01C3:  BCF    0C.3
....................       output_low(PIN_A2); // C
01C4:  MOVLB  01
01C5:  BCF    0C.2
01C6:  MOVLB  02
01C7:  BCF    0C.2
....................       output_low(PIN_A1); // B
01C8:  MOVLB  01
01C9:  BCF    0C.1
01CA:  MOVLB  02
01CB:  BCF    0C.1
....................       output_high(PIN_A0); // A
01CC:  MOVLB  01
01CD:  BCF    0C.0
01CE:  MOVLB  02
01CF:  BSF    0C.0
01D0:  MOVLB  00
....................    }
....................    if (tecla == '2') {
01D1:  MOVF   25,W
01D2:  SUBLW  32
01D3:  BTFSS  03.2
01D4:  GOTO   1F2
....................       output_low(PIN_A6); // LE
01D5:  MOVLB  01
01D6:  BCF    0C.6
01D7:  MOVLB  02
01D8:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
01D9:  MOVLB  01
01DA:  BCF    0C.7
01DB:  MOVLB  02
01DC:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
01DD:  MOVLB  01
01DE:  BCF    0C.4
01DF:  MOVLB  02
01E0:  BSF    0C.4
....................       output_low(PIN_A3); // D
01E1:  MOVLB  01
01E2:  BCF    0C.3
01E3:  MOVLB  02
01E4:  BCF    0C.3
....................       output_low(PIN_A2); // C
01E5:  MOVLB  01
01E6:  BCF    0C.2
01E7:  MOVLB  02
01E8:  BCF    0C.2
....................       output_high(PIN_A1); // B
01E9:  MOVLB  01
01EA:  BCF    0C.1
01EB:  MOVLB  02
01EC:  BSF    0C.1
....................       output_low(PIN_A0); // A
01ED:  MOVLB  01
01EE:  BCF    0C.0
01EF:  MOVLB  02
01F0:  BCF    0C.0
01F1:  MOVLB  00
....................    }
....................       
....................    if (tecla == '3') {
01F2:  MOVF   25,W
01F3:  SUBLW  33
01F4:  BTFSS  03.2
01F5:  GOTO   213
....................       output_low(PIN_A6); // LE
01F6:  MOVLB  01
01F7:  BCF    0C.6
01F8:  MOVLB  02
01F9:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
01FA:  MOVLB  01
01FB:  BCF    0C.7
01FC:  MOVLB  02
01FD:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
01FE:  MOVLB  01
01FF:  BCF    0C.4
0200:  MOVLB  02
0201:  BSF    0C.4
....................       output_low(PIN_A3); // D
0202:  MOVLB  01
0203:  BCF    0C.3
0204:  MOVLB  02
0205:  BCF    0C.3
....................       output_low(PIN_A2); // C
0206:  MOVLB  01
0207:  BCF    0C.2
0208:  MOVLB  02
0209:  BCF    0C.2
....................       output_high(PIN_A1); // B
020A:  MOVLB  01
020B:  BCF    0C.1
020C:  MOVLB  02
020D:  BSF    0C.1
....................       output_high(PIN_A0); // A
020E:  MOVLB  01
020F:  BCF    0C.0
0210:  MOVLB  02
0211:  BSF    0C.0
0212:  MOVLB  00
....................    }
....................    if (tecla == '4'){
0213:  MOVF   25,W
0214:  SUBLW  34
0215:  BTFSS  03.2
0216:  GOTO   234
....................       output_low(PIN_A6); // LE
0217:  MOVLB  01
0218:  BCF    0C.6
0219:  MOVLB  02
021A:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
021B:  MOVLB  01
021C:  BCF    0C.7
021D:  MOVLB  02
021E:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
021F:  MOVLB  01
0220:  BCF    0C.4
0221:  MOVLB  02
0222:  BSF    0C.4
....................       output_low(PIN_A3); // D
0223:  MOVLB  01
0224:  BCF    0C.3
0225:  MOVLB  02
0226:  BCF    0C.3
....................       output_high(PIN_A2); // C
0227:  MOVLB  01
0228:  BCF    0C.2
0229:  MOVLB  02
022A:  BSF    0C.2
....................       output_low(PIN_A1); // B
022B:  MOVLB  01
022C:  BCF    0C.1
022D:  MOVLB  02
022E:  BCF    0C.1
....................       output_low(PIN_A0); // A
022F:  MOVLB  01
0230:  BCF    0C.0
0231:  MOVLB  02
0232:  BCF    0C.0
0233:  MOVLB  00
....................       }
....................       
....................    if (tecla == '5'){
0234:  MOVF   25,W
0235:  SUBLW  35
0236:  BTFSS  03.2
0237:  GOTO   255
....................       output_low(PIN_A6); // LE
0238:  MOVLB  01
0239:  BCF    0C.6
023A:  MOVLB  02
023B:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
023C:  MOVLB  01
023D:  BCF    0C.7
023E:  MOVLB  02
023F:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
0240:  MOVLB  01
0241:  BCF    0C.4
0242:  MOVLB  02
0243:  BSF    0C.4
....................       output_low(PIN_A3); // D
0244:  MOVLB  01
0245:  BCF    0C.3
0246:  MOVLB  02
0247:  BCF    0C.3
....................       output_high(PIN_A2); // C
0248:  MOVLB  01
0249:  BCF    0C.2
024A:  MOVLB  02
024B:  BSF    0C.2
....................       output_low(PIN_A1); // B
024C:  MOVLB  01
024D:  BCF    0C.1
024E:  MOVLB  02
024F:  BCF    0C.1
....................       output_high(PIN_A0); // A
0250:  MOVLB  01
0251:  BCF    0C.0
0252:  MOVLB  02
0253:  BSF    0C.0
0254:  MOVLB  00
....................    }
....................       
....................    if (tecla == '6') {
0255:  MOVF   25,W
0256:  SUBLW  36
0257:  BTFSS  03.2
0258:  GOTO   276
....................       output_low(PIN_A6); // LE
0259:  MOVLB  01
025A:  BCF    0C.6
025B:  MOVLB  02
025C:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
025D:  MOVLB  01
025E:  BCF    0C.7
025F:  MOVLB  02
0260:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
0261:  MOVLB  01
0262:  BCF    0C.4
0263:  MOVLB  02
0264:  BSF    0C.4
....................       output_low(PIN_A3); // D
0265:  MOVLB  01
0266:  BCF    0C.3
0267:  MOVLB  02
0268:  BCF    0C.3
....................       output_high(PIN_A2); // C
0269:  MOVLB  01
026A:  BCF    0C.2
026B:  MOVLB  02
026C:  BSF    0C.2
....................       output_high(PIN_A1); // B
026D:  MOVLB  01
026E:  BCF    0C.1
026F:  MOVLB  02
0270:  BSF    0C.1
....................       output_low(PIN_A0); // A
0271:  MOVLB  01
0272:  BCF    0C.0
0273:  MOVLB  02
0274:  BCF    0C.0
0275:  MOVLB  00
....................       }
....................       
....................    if (tecla == '7'){
0276:  MOVF   25,W
0277:  SUBLW  37
0278:  BTFSS  03.2
0279:  GOTO   297
....................       output_low(PIN_A6); // LE
027A:  MOVLB  01
027B:  BCF    0C.6
027C:  MOVLB  02
027D:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
027E:  MOVLB  01
027F:  BCF    0C.7
0280:  MOVLB  02
0281:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
0282:  MOVLB  01
0283:  BCF    0C.4
0284:  MOVLB  02
0285:  BSF    0C.4
....................       output_low(PIN_A3); // D
0286:  MOVLB  01
0287:  BCF    0C.3
0288:  MOVLB  02
0289:  BCF    0C.3
....................       output_high(PIN_A2); // C
028A:  MOVLB  01
028B:  BCF    0C.2
028C:  MOVLB  02
028D:  BSF    0C.2
....................       output_high(PIN_A1); // B
028E:  MOVLB  01
028F:  BCF    0C.1
0290:  MOVLB  02
0291:  BSF    0C.1
....................       output_high(PIN_A0); // A
0292:  MOVLB  01
0293:  BCF    0C.0
0294:  MOVLB  02
0295:  BSF    0C.0
0296:  MOVLB  00
....................    }
....................       
....................    if (tecla == '8'){
0297:  MOVF   25,W
0298:  SUBLW  38
0299:  BTFSS  03.2
029A:  GOTO   2B8
....................       output_low(PIN_A6); // LE
029B:  MOVLB  01
029C:  BCF    0C.6
029D:  MOVLB  02
029E:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
029F:  MOVLB  01
02A0:  BCF    0C.7
02A1:  MOVLB  02
02A2:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
02A3:  MOVLB  01
02A4:  BCF    0C.4
02A5:  MOVLB  02
02A6:  BSF    0C.4
....................       output_high(PIN_A3); // D
02A7:  MOVLB  01
02A8:  BCF    0C.3
02A9:  MOVLB  02
02AA:  BSF    0C.3
....................       output_low(PIN_A2); // C
02AB:  MOVLB  01
02AC:  BCF    0C.2
02AD:  MOVLB  02
02AE:  BCF    0C.2
....................       output_low(PIN_A1); // B
02AF:  MOVLB  01
02B0:  BCF    0C.1
02B1:  MOVLB  02
02B2:  BCF    0C.1
....................       output_low(PIN_A0); // A
02B3:  MOVLB  01
02B4:  BCF    0C.0
02B5:  MOVLB  02
02B6:  BCF    0C.0
02B7:  MOVLB  00
....................    }
....................       
....................    if (tecla == '9'){
02B8:  MOVF   25,W
02B9:  SUBLW  39
02BA:  BTFSS  03.2
02BB:  GOTO   2D9
....................        output_low(PIN_A6); // LE
02BC:  MOVLB  01
02BD:  BCF    0C.6
02BE:  MOVLB  02
02BF:  BCF    0C.6
....................       output_high(PIN_A7); // BI = BL (?)
02C0:  MOVLB  01
02C1:  BCF    0C.7
02C2:  MOVLB  02
02C3:  BSF    0C.7
....................       output_high(PIN_A4); // LT = PH (?)
02C4:  MOVLB  01
02C5:  BCF    0C.4
02C6:  MOVLB  02
02C7:  BSF    0C.4
....................       output_high(PIN_A3); // D
02C8:  MOVLB  01
02C9:  BCF    0C.3
02CA:  MOVLB  02
02CB:  BSF    0C.3
....................       output_low(PIN_A2); // C
02CC:  MOVLB  01
02CD:  BCF    0C.2
02CE:  MOVLB  02
02CF:  BCF    0C.2
....................       output_low(PIN_A1); // B
02D0:  MOVLB  01
02D1:  BCF    0C.1
02D2:  MOVLB  02
02D3:  BCF    0C.1
....................       output_high(PIN_A0); // A
02D4:  MOVLB  01
02D5:  BCF    0C.0
02D6:  MOVLB  02
02D7:  BSF    0C.0
02D8:  MOVLB  00
....................    }
02D9:  MOVLP  00
02DA:  GOTO   326 (RETURN)
.................... 
.................... }
.................... 
.................... /*****************************************************************************
....................  * Funciones de Inicializacion
....................  ****************************************************************************/
.................... void Init_GPIO(void){ 
....................    
....................    set_tris_a(0b00000000);
*
0082:  MOVLW  00
0083:  MOVLB  01
0084:  MOVWF  0C
....................    set_tris_b(0b11010000); // RB0, RB1, RB2 y RB3 filas del teclado, entrada
0085:  MOVLW  D0
0086:  MOVWF  0D
....................                            // RB4, RB6 RB7 columnas, salidas
....................    enable_interrupts(INT_IOC_B4);
0087:  BSF    0B.3
0088:  MOVLB  07
0089:  BSF    14.4
008A:  BSF    15.4
....................    enable_interrupts(INT_IOC_B6);
008B:  BSF    0B.3
008C:  BSF    14.6
008D:  BSF    15.6
....................    enable_interrupts(INT_IOC_B7);
008E:  BSF    0B.3
008F:  BSF    14.7
0090:  BSF    15.7
....................    
....................    // port_b_pullups(TRUE);
....................    enable_interrupts(GLOBAL);
0091:  MOVLW  C0
0092:  IORWF  0B,F
0093:  MOVLP  00
0094:  MOVLB  00
0095:  GOTO   2F5 (RETURN)
.................... }
.................... 
.................... void Init_Keypad(void){
....................    
....................    setup_adc_ports(NO_ANALOGS); // desactiva funciones analógicas en los pines si aplica
*
005C:  MOVLB  01
005D:  BCF    1E.0
005E:  BCF    1E.1
005F:  BCF    1E.2
0060:  MOVLW  00
0061:  MOVLB  03
0062:  MOVWF  0C
0063:  MOVWF  0D
.................... 
....................    // Se dejan las filas inicialmente en HIGH
....................    output_high(PIN_B0);
0064:  MOVLB  01
0065:  BCF    0D.0
0066:  MOVLB  02
0067:  BSF    0D.0
....................    output_high(PIN_B1);
0068:  MOVLB  01
0069:  BCF    0D.1
006A:  MOVLB  02
006B:  BSF    0D.1
....................    output_high(PIN_B2);
006C:  MOVLB  01
006D:  BCF    0D.2
006E:  MOVLB  02
006F:  BSF    0D.2
....................    output_high(PIN_B3);
0070:  MOVLB  01
0071:  BCF    0D.3
0072:  MOVLB  02
0073:  BSF    0D.3
0074:  MOVLP  00
0075:  MOVLB  00
0076:  GOTO   2F3 (RETURN)
.................... }
.................... 
.................... void InitTimer0(void) {
....................    setup_timer_0(RTCC_INTERNAL | RTCC_DIV_256);
0077:  MOVLB  01
0078:  MOVF   15,W
0079:  ANDLW  C0
007A:  IORLW  07
007B:  MOVWF  15
....................    set_timer0(61);
007C:  MOVLW  3D
007D:  MOVLB  00
007E:  MOVWF  15
....................    
....................    enable_interrupts(INT_TIMER0);
007F:  BSF    0B.5
0080:  MOVLP  00
0081:  GOTO   2F4 (RETURN)
.................... }

Configuration Fuses:
   Word  1: 3F84   INTRC_IO NOWDT PUT NOMCLR NOPROTECT NOCPD BROWNOUT NOCLKOUT IESO FCMEN
   Word  2: 1EFF   NOWRT PLL_SW STVREN BORV19 NODEBUG NOLVP
